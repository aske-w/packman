import React, { useEffect } from 'react';
import ReactTooltip from 'react-tooltip';

interface FiniteFirstFitArticleProps {}
const FiniteFirstFitArticle: React.FC<FiniteFirstFitArticleProps> = ({}) => {
  useEffect(() => {
    ReactTooltip.rebuild();
  });

  return (
    <>
      <p>Finite First fit is the bin packing version of First Fit Decreasing Height in strip packing.</p>
      <h4>Preparation</h4>
      <p>
        Since this is an{' '}
        <span data-tip="Means the entire input is known beforehand" className="underline decoration-dotted decoration-gray-500 decoration-1 ">
          offline
        </span>{' '}
        algorithm, we know the entire input beforehand. We utilize this to sort it by non-increasing height.
      </p>
      <div className="flex flex-col items-center p-5 bg-gray-700 rounded-lg not-prose">
        <svg width="819" height="158" viewBox="0 0 819 158" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="0.5" y="115.5" width="13" height="42" fill="#FBBF24" stroke="black" />
          <rect x="22.5" y="94.5" width="29" height="63" fill="#FBBF24" stroke="black" />
          <rect x="60.5" y="26.5" width="123" height="131" fill="#FBBF24" stroke="black" />
          <rect x="192.5" y="68.5" width="149" height="89" fill="#FBBF24" stroke="black" />
          <rect x="350.5" y="86.5" width="29" height="71" fill="#FBBF24" stroke="black" />
          <rect x="388.5" y="0.5" width="212" height="157" fill="#FBBF24" stroke="black" />
          <rect x="609.5" y="48.5" width="77" height="109" fill="#FBBF24" stroke="black" />
          <rect x="695.5" y="16.5" width="123" height="141" fill="#FBBF24" stroke="black" />
        </svg>

        <p className="mt-5 text-sm text-white">Unsorted input</p>
      </div>
      <div className="flex flex-col items-center p-5 mt-10 bg-gray-700 rounded-lg not-prose">
        <svg width="819" height="158" viewBox="0 0 819 158" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="0.5" y="0.5" width="212" height="157" fill="#FBBF24" stroke="black" />
          <rect x="221.5" y="16.5" width="123" height="141" fill="#FBBF24" stroke="black" />
          <path d="M353.5 26.5H476.5V157.5H353.5V26.5Z" fill="#FBBF24" stroke="black" />
          <rect x="485.5" y="48.5" width="77" height="109" fill="#FBBF24" stroke="black" />
          <rect x="571.5" y="68.5" width="149" height="89" fill="#FBBF24" stroke="black" />
          <rect x="729.5" y="86.5" width="29" height="71" fill="#FBBF24" stroke="black" />
          <rect x="767.5" y="94.5" width="29" height="63" fill="#FBBF24" stroke="black" />
          <rect x="805.5" y="115.5" width="13" height="42" fill="#FBBF24" stroke="black" />
        </svg>

        <p className="mt-5 text-sm text-white">Sorted input</p>
      </div>
      <h4>Execution</h4>
      <p>With the sorted data we now take the tallest item from the input. This is placed in the bottom left of the first bin.</p>
      <p>
        When the next item is placed we check all the levels and places the next item in the first one that can accomodate it. If no levels can fit
        the item a new one is created above. However, if there is not enough vertical space, then a new bin is opened and the item is placed to the
        left in that.
      </p>
      <p>This is repeated until the entire input is packed</p>
      <div className="flex flex-col items-center">
        <div className="flex flex-col items-center p-5 bg-gray-700 rounded-lg not-prose max-w-min">
          <svg width="820" height="158" viewBox="0 0 820 158" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="385" height="158" fill="white" />
            <rect x="435" width="385" height="158" fill="white" />
            <rect x="558.5" y="48.5" width="77" height="109" fill="#FBBF24" stroke="black" />
            <rect x="635.5" y="68.5" width="149" height="89" fill="#FBBF24" stroke="black" />
            <rect x="335.5" y="86.5" width="29" height="71" fill="#FBBF24" stroke="black" />
            <rect x="784.5" y="94.5" width="29" height="63" fill="#FBBF24" stroke="black" />
            <rect x="364.5" y="115.5" width="13" height="42" fill="#FBBF24" stroke="black" />
            <rect x="0.5" y="0.5" width="212" height="157" fill="#FBBF24" stroke="black" />
            <rect x="212.5" y="16.5" width="123" height="141" fill="#FBBF24" stroke="black" />
            <rect x="435.5" y="26.5" width="123" height="131" fill="#FBBF24" stroke="black" />
            <path d="M107.695 74.5625V86H106.25V76.3672L103.336 77.4297V76.125L107.469 74.5625H107.695Z" fill="black" />
            <path
              d="M279.398 94.8125V96H271.953V94.9609L275.68 90.8125C276.138 90.3021 276.492 89.8698 276.742 89.5156C276.997 89.1562 277.174 88.8359 277.273 88.5547C277.378 88.2682 277.43 87.9766 277.43 87.6797C277.43 87.3047 277.352 86.9661 277.195 86.6641C277.044 86.3568 276.82 86.112 276.523 85.9297C276.227 85.7474 275.867 85.6562 275.445 85.6562C274.94 85.6562 274.518 85.7552 274.18 85.9531C273.846 86.1458 273.596 86.4167 273.43 86.7656C273.263 87.1146 273.18 87.5156 273.18 87.9688H271.734C271.734 87.3281 271.875 86.7422 272.156 86.2109C272.438 85.6797 272.854 85.2578 273.406 84.9453C273.958 84.6276 274.638 84.4688 275.445 84.4688C276.164 84.4688 276.779 84.5964 277.289 84.8516C277.799 85.1016 278.19 85.4557 278.461 85.9141C278.737 86.3672 278.875 86.8984 278.875 87.5078C278.875 87.8411 278.818 88.1797 278.703 88.5234C278.594 88.862 278.44 89.2005 278.242 89.5391C278.049 89.8776 277.823 90.2109 277.562 90.5391C277.307 90.8672 277.034 91.1901 276.742 91.5078L273.695 94.8125H279.398Z"
              fill="black"
            />
            <path
              d="M496.055 99.6016H497.086C497.591 99.6016 498.008 99.5182 498.336 99.3516C498.669 99.1797 498.917 98.9479 499.078 98.6562C499.245 98.3594 499.328 98.026 499.328 97.6562C499.328 97.2188 499.255 96.8516 499.109 96.5547C498.964 96.2578 498.745 96.0339 498.453 95.8828C498.161 95.7318 497.792 95.6562 497.344 95.6562C496.938 95.6562 496.578 95.737 496.266 95.8984C495.958 96.0547 495.716 96.2786 495.539 96.5703C495.367 96.862 495.281 97.2057 495.281 97.6016H493.836C493.836 97.0234 493.982 96.4974 494.273 96.0234C494.565 95.5495 494.974 95.1719 495.5 94.8906C496.031 94.6094 496.646 94.4688 497.344 94.4688C498.031 94.4688 498.633 94.5911 499.148 94.8359C499.664 95.0755 500.065 95.4349 500.352 95.9141C500.638 96.388 500.781 96.9792 500.781 97.6875C500.781 97.974 500.714 98.2812 500.578 98.6094C500.448 98.9323 500.242 99.2344 499.961 99.5156C499.685 99.7969 499.326 100.029 498.883 100.211C498.44 100.388 497.909 100.477 497.289 100.477H496.055V99.6016ZM496.055 100.789V99.9219H497.289C498.013 99.9219 498.612 100.008 499.086 100.18C499.56 100.352 499.932 100.581 500.203 100.867C500.479 101.154 500.672 101.469 500.781 101.812C500.896 102.151 500.953 102.49 500.953 102.828C500.953 103.359 500.862 103.831 500.68 104.242C500.503 104.654 500.25 105.003 499.922 105.289C499.599 105.576 499.219 105.792 498.781 105.938C498.344 106.083 497.867 106.156 497.352 106.156C496.857 106.156 496.391 106.086 495.953 105.945C495.521 105.805 495.138 105.602 494.805 105.336C494.471 105.065 494.211 104.734 494.023 104.344C493.836 103.948 493.742 103.497 493.742 102.992H495.188C495.188 103.388 495.273 103.734 495.445 104.031C495.622 104.328 495.872 104.56 496.195 104.727C496.523 104.888 496.909 104.969 497.352 104.969C497.794 104.969 498.174 104.893 498.492 104.742C498.815 104.586 499.062 104.352 499.234 104.039C499.411 103.727 499.5 103.333 499.5 102.859C499.5 102.385 499.401 101.997 499.203 101.695C499.005 101.388 498.724 101.161 498.359 101.016C498 100.865 497.576 100.789 497.086 100.789H496.055Z"
              fill="black"
            />
            <path
              d="M602.633 107.172V108.359H594.414V107.508L599.508 99.625H600.688L599.422 101.906L596.055 107.172H602.633ZM601.047 99.625V111H599.602V99.625H601.047Z"
              fill="black"
            />
            <path
              d="M710.773 117.586L709.617 117.289L710.188 111.625H716.023V112.961H711.414L711.07 116.055C711.279 115.935 711.542 115.823 711.859 115.719C712.182 115.615 712.552 115.562 712.969 115.562C713.495 115.562 713.966 115.654 714.383 115.836C714.799 116.013 715.154 116.268 715.445 116.602C715.742 116.935 715.969 117.336 716.125 117.805C716.281 118.273 716.359 118.797 716.359 119.375C716.359 119.922 716.284 120.424 716.133 120.883C715.987 121.341 715.766 121.742 715.469 122.086C715.172 122.424 714.797 122.688 714.344 122.875C713.896 123.062 713.367 123.156 712.758 123.156C712.299 123.156 711.865 123.094 711.453 122.969C711.047 122.839 710.682 122.643 710.359 122.383C710.042 122.117 709.781 121.789 709.578 121.398C709.38 121.003 709.255 120.539 709.203 120.008H710.578C710.641 120.435 710.766 120.794 710.953 121.086C711.141 121.378 711.385 121.599 711.688 121.75C711.995 121.896 712.352 121.969 712.758 121.969C713.102 121.969 713.406 121.909 713.672 121.789C713.938 121.669 714.161 121.497 714.344 121.273C714.526 121.049 714.664 120.779 714.758 120.461C714.857 120.143 714.906 119.786 714.906 119.391C714.906 119.031 714.857 118.698 714.758 118.391C714.659 118.083 714.51 117.815 714.312 117.586C714.12 117.357 713.883 117.18 713.602 117.055C713.32 116.924 712.997 116.859 712.633 116.859C712.148 116.859 711.781 116.924 711.531 117.055C711.286 117.185 711.034 117.362 710.773 117.586Z"
              fill="black"
            />
            <path d="M802.297 122.625V123.438L797.586 134H796.062L800.766 123.812H794.609V122.625H802.297Z" fill="black" />
            <path
              d="M375.117 138.922C375.117 139.615 374.956 140.203 374.633 140.688C374.315 141.167 373.883 141.531 373.336 141.781C372.794 142.031 372.182 142.156 371.5 142.156C370.818 142.156 370.203 142.031 369.656 141.781C369.109 141.531 368.677 141.167 368.359 140.688C368.042 140.203 367.883 139.615 367.883 138.922C367.883 138.469 367.969 138.055 368.141 137.68C368.318 137.299 368.565 136.969 368.883 136.688C369.206 136.406 369.586 136.19 370.023 136.039C370.466 135.883 370.953 135.805 371.484 135.805C372.182 135.805 372.805 135.94 373.352 136.211C373.898 136.477 374.328 136.844 374.641 137.312C374.958 137.781 375.117 138.318 375.117 138.922ZM373.664 138.891C373.664 138.469 373.573 138.096 373.391 137.773C373.208 137.445 372.953 137.19 372.625 137.008C372.297 136.826 371.917 136.734 371.484 136.734C371.042 136.734 370.659 136.826 370.336 137.008C370.018 137.19 369.771 137.445 369.594 137.773C369.417 138.096 369.328 138.469 369.328 138.891C369.328 139.328 369.414 139.703 369.586 140.016C369.763 140.323 370.013 140.56 370.336 140.727C370.664 140.888 371.052 140.969 371.5 140.969C371.948 140.969 372.333 140.888 372.656 140.727C372.979 140.56 373.227 140.323 373.398 140.016C373.576 139.703 373.664 139.328 373.664 138.891ZM374.852 133.586C374.852 134.138 374.706 134.635 374.414 135.078C374.122 135.521 373.724 135.87 373.219 136.125C372.714 136.38 372.141 136.508 371.5 136.508C370.849 136.508 370.268 136.38 369.758 136.125C369.253 135.87 368.857 135.521 368.57 135.078C368.284 134.635 368.141 134.138 368.141 133.586C368.141 132.924 368.284 132.362 368.57 131.898C368.862 131.435 369.26 131.081 369.766 130.836C370.271 130.591 370.846 130.469 371.492 130.469C372.143 130.469 372.721 130.591 373.227 130.836C373.732 131.081 374.128 131.435 374.414 131.898C374.706 132.362 374.852 132.924 374.852 133.586ZM373.406 133.609C373.406 133.229 373.326 132.893 373.164 132.602C373.003 132.31 372.779 132.081 372.492 131.914C372.206 131.742 371.872 131.656 371.492 131.656C371.112 131.656 370.779 131.737 370.492 131.898C370.211 132.055 369.99 132.279 369.828 132.57C369.672 132.862 369.594 133.208 369.594 133.609C369.594 134 369.672 134.341 369.828 134.633C369.99 134.924 370.214 135.151 370.5 135.312C370.786 135.474 371.12 135.555 371.5 135.555C371.88 135.555 372.211 135.474 372.492 135.312C372.779 135.151 373.003 134.924 373.164 134.633C373.326 134.341 373.406 134 373.406 133.609Z"
              fill="black"
            />
            <path
              d="M352.492 119.609H352.617V120.836H352.492C351.727 120.836 351.086 120.961 350.57 121.211C350.055 121.456 349.646 121.786 349.344 122.203C349.042 122.615 348.823 123.078 348.688 123.594C348.557 124.109 348.492 124.633 348.492 125.164V126.836C348.492 127.341 348.552 127.789 348.672 128.18C348.792 128.565 348.956 128.891 349.164 129.156C349.372 129.422 349.607 129.622 349.867 129.758C350.133 129.893 350.409 129.961 350.695 129.961C351.029 129.961 351.326 129.898 351.586 129.773C351.846 129.643 352.065 129.464 352.242 129.234C352.424 129 352.562 128.724 352.656 128.406C352.75 128.089 352.797 127.74 352.797 127.359C352.797 127.021 352.755 126.695 352.672 126.383C352.589 126.065 352.461 125.784 352.289 125.539C352.117 125.289 351.901 125.094 351.641 124.953C351.385 124.807 351.081 124.734 350.727 124.734C350.326 124.734 349.951 124.833 349.602 125.031C349.258 125.224 348.974 125.479 348.75 125.797C348.531 126.109 348.406 126.451 348.375 126.82L347.609 126.812C347.682 126.229 347.818 125.732 348.016 125.32C348.219 124.904 348.469 124.565 348.766 124.305C349.068 124.039 349.404 123.846 349.773 123.727C350.148 123.602 350.544 123.539 350.961 123.539C351.529 123.539 352.018 123.646 352.43 123.859C352.841 124.073 353.18 124.359 353.445 124.719C353.711 125.073 353.906 125.474 354.031 125.922C354.161 126.365 354.227 126.82 354.227 127.289C354.227 127.826 354.151 128.328 354 128.797C353.849 129.266 353.622 129.677 353.32 130.031C353.023 130.385 352.656 130.661 352.219 130.859C351.781 131.057 351.273 131.156 350.695 131.156C350.081 131.156 349.544 131.031 349.086 130.781C348.628 130.526 348.247 130.188 347.945 129.766C347.643 129.344 347.417 128.875 347.266 128.359C347.115 127.844 347.039 127.32 347.039 126.789V126.109C347.039 125.307 347.12 124.521 347.281 123.75C347.443 122.979 347.721 122.281 348.117 121.656C348.518 121.031 349.073 120.534 349.781 120.164C350.49 119.794 351.393 119.609 352.492 119.609Z"
              fill="black"
            />
          </svg>

          <p className="mt-5 text-sm text-white">Placement order for example data</p>
        </div>
      </div>
    </>
  );
};

export default FiniteFirstFitArticle;
