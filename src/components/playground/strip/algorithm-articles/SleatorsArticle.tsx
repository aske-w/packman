import React, { useEffect } from 'react';
import ReactTooltip from 'react-tooltip';

interface SleatorsArticleProps {}

const SleatorsArticle: React.FC<SleatorsArticleProps> = ({}) => {
  useEffect(() => {
    ReactTooltip.rebuild();
  });

  return (
    <>
      <p>Sleators algorithm was created in 1979</p>
      <h4>Preparation</h4>
      <p>
        Since this is an{' '}
        <span data-tip="Means the entire input is known beforehand" className="underline decoration-dotted decoration-gray-500 decoration-1 ">
          offline
        </span>{' '}
        algorithm, we know the entire input beforehand.
      </p>
      <div className="flex flex-col items-center p-5 bg-gray-700 rounded-lg not-prose">
        <svg width="784" height="158" viewBox="0 0 784 158" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="0.5" y="126.5" width="203" height="31" fill="#FBBF24" stroke="black" />
          <rect x="214.167" y="59.5" width="77" height="98" fill="#FBBF24" stroke="black" />
          <rect x="301.833" y="30.5" width="77" height="127" fill="#FBBF24" stroke="black" />
          <rect x="389.5" y="109.5" width="77" height="48" fill="#FBBF24" stroke="black" />
          <rect x="477.167" y="0.5" width="156" height="157" fill="#FBBF24" stroke="black" />
          <rect x="643.833" y="139.5" width="104" height="18" fill="#FBBF24" stroke="black" />
          <rect x="758.5" y="69.5" width="25" height="88" fill="#FBBF24" stroke="black" />
        </svg>

        <p className="mt-5 text-sm text-white">Unsorted input</p>
      </div>
      <p>The items with a width greater than half of the strip needs to seperated out.</p>
      <div className="flex flex-col items-center p-5 mt-5 bg-gray-700 rounded-lg not-prose">
        <svg width="784" height="158" viewBox="0 0 784 158" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="0.5" y="126.5" width="203" height="31" fill="#FBBF24" stroke="black" />
        </svg>

        <p className="mt-5 text-sm text-white">Items with width greater than half of the strip</p>
      </div>
      <p>After we sort the remaining items by non-increasing height.</p>
      <div className="flex flex-col items-center p-5 mt-5 bg-gray-700 rounded-lg not-prose">
        <svg width="784" height="158" viewBox="0 0 784 158" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="157" height="158" fill="#FBBF24" stroke="black" />
          <rect x="166.5" y="30" width="78" height="128" fill="#FBBF24" stroke="black" />
          <rect x="254" y="59" width="78" height="99" fill="#FBBF24" stroke="black" />
          <rect x="341.5" y="69" width="26" height="89" fill="#FBBF24" stroke="black" />
          <rect x="377" y="109" width="78" height="49" fill="#FBBF24" stroke="black" />

          <rect x={679 - 205 - 10} y="139" width="105" height="19" fill="#FBBF24" stroke="black" />
        </svg>

        <p className="mt-5 text-sm text-white">Sorted input</p>
      </div>
      <h4>Execution</h4>
      <p>The items with a width greater than half of the strip is placed on top of each other in random order at the bottom.</p>
      <p>After that a row is placed with many that fits.</p>
      <p>
        On top of the row we split the strip in two equal sized new strips. We start by taking the lower of the sides and place an item there. We
        continue until there is no more space on the row.
      </p>
      <p>We continue to always taking the lower of the two sides and places a row there, until we run out of items.</p>
      <p>This is visualized below with the numbers indicating the order of placement in the strip.</p>
      <div className="flex flex-col items-center">
        <div className="flex flex-col items-center self-center p-5 mt-5 bg-gray-700 rounded-lg not-prose max-w-min">
          <svg width={369} height={321} fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill="#fff" d="M1 0h349v321H1z" />
            <path
              fill="#FBBF24"
              stroke="#000"
              d="M1.5 130.5h156v157H1.5zM158.5 160.5h77v127h-77zM236.5 190.5h77v98h-77zM314.5 199.5h25v88h-25zM176.5 110.5h77v48h-77z"
            />
            <path opacity={0.5} fill="#FBBF24" stroke="#000" d="M254.5 129.5h114v29h-114z" />
            <path fill="#FBBF24" stroke="#000" d="M1.5 99.5h114v29H1.5zM1.5 289.5h204v31H1.5zM176.5 90.5h104v18h-104z" />
            <path stroke="#000" strokeWidth={2} strokeDasharray="4 4" d="M168 159h182M.994 130l175-1M176 110h174M175 319V0M1 288h349" />
            <path
              d="M108.695 298.562V310h-1.445v-9.633l-2.914 1.063v-1.305l4.133-1.563h.226ZM87.398 212.812V214h-7.445v-1.039l3.727-4.149c.458-.51.812-.942 1.062-1.296.255-.36.432-.68.531-.961.105-.287.157-.578.157-.875 0-.375-.078-.714-.235-1.016a1.755 1.755 0 0 0-.672-.734c-.296-.183-.656-.274-1.078-.274-.505 0-.927.099-1.265.297a1.83 1.83 0 0 0-.75.813 2.76 2.76 0 0 0-.25 1.203h-1.446c0-.641.141-1.227.422-1.758a3.115 3.115 0 0 1 1.25-1.266c.552-.317 1.232-.476 2.04-.476.718 0 1.333.127 1.843.383.51.25.901.604 1.172 1.062.276.453.414.984.414 1.594 0 .333-.057.672-.172 1.015-.11.339-.263.678-.46 1.016-.194.339-.42.672-.68 1a15.66 15.66 0 0 1-.82.969l-3.048 3.304h5.703ZM196.055 223.602h1.031c.505 0 .922-.084 1.25-.25.333-.172.581-.404.742-.696.167-.297.25-.63.25-1 0-.437-.073-.804-.219-1.101a1.458 1.458 0 0 0-.656-.672c-.292-.151-.661-.227-1.109-.227a2.32 2.32 0 0 0-1.078.242 1.78 1.78 0 0 0-.727.672 1.996 1.996 0 0 0-.258 1.032h-1.445c0-.579.146-1.105.437-1.579a3.147 3.147 0 0 1 1.227-1.132c.531-.282 1.146-.422 1.844-.422.687 0 1.289.122 1.804.367.516.24.917.599 1.204 1.078.286.474.429 1.065.429 1.774 0 .286-.067.593-.203.921-.13.323-.336.625-.617.907-.276.281-.635.513-1.078.695-.443.177-.974.266-1.594.266h-1.234v-.875Zm0 1.187v-.867h1.234c.724 0 1.323.086 1.797.258.474.172.846.401 1.117.687.276.287.469.602.578.945.115.339.172.678.172 1.016 0 .531-.091 1.003-.273 1.414-.177.412-.43.761-.758 1.047a3.234 3.234 0 0 1-1.141.649 4.516 4.516 0 0 1-1.429.218c-.495 0-.961-.07-1.399-.211a3.598 3.598 0 0 1-1.148-.609 2.86 2.86 0 0 1-.782-.992 3.13 3.13 0 0 1-.281-1.352h1.446c0 .396.085.742.257 1.039.177.297.427.529.75.696.328.161.714.242 1.157.242.442 0 .822-.076 1.14-.227.323-.156.57-.39.742-.703.177-.312.266-.706.266-1.18s-.099-.862-.297-1.164a1.737 1.737 0 0 0-.844-.679c-.359-.151-.783-.227-1.273-.227h-1.031ZM279.633 240.172v1.187h-8.219v-.851l5.094-7.883h1.18l-1.266 2.281-3.367 5.266h6.578Zm-1.586-7.547V244h-1.445v-11.375h1.445ZM325.773 243.586l-1.156-.297.571-5.664h5.835v1.336h-4.609l-.344 3.094a4.28 4.28 0 0 1 .789-.336 3.619 3.619 0 0 1 1.11-.157 3.5 3.5 0 0 1 1.414.274c.416.177.771.432 1.062.766.297.333.524.734.68 1.203.156.468.234.992.234 1.57 0 .547-.075 1.049-.226 1.508a3.395 3.395 0 0 1-.664 1.203 2.99 2.99 0 0 1-1.125.789c-.448.187-.977.281-1.586.281-.459 0-.893-.062-1.305-.187a3.367 3.367 0 0 1-1.094-.586 3.185 3.185 0 0 1-.781-.985c-.198-.395-.323-.859-.375-1.39h1.375c.063.427.188.786.375 1.078.188.292.432.513.735.664.307.146.664.219 1.07.219.344 0 .648-.06.914-.18s.489-.292.672-.516c.182-.224.32-.494.414-.812.099-.318.148-.675.148-1.07 0-.36-.049-.693-.148-1a2.283 2.283 0 0 0-.446-.805 1.944 1.944 0 0 0-.71-.531 2.276 2.276 0 0 0-.969-.196c-.485 0-.852.065-1.102.196a4.21 4.21 0 0 0-.758.531Z"
              fill="#000"
            />
            <path opacity={0.5} d="M315.297 138.625v.813L310.586 150h-1.524l4.704-10.188h-6.157v-1.187h7.688Z" fill="#000" />
            <path
              d="M217.492 129.609h.125v1.227h-.125c-.765 0-1.406.125-1.922.375a3.145 3.145 0 0 0-1.226.992 4.07 4.07 0 0 0-.656 1.391 6.348 6.348 0 0 0-.196 1.57v1.672c0 .505.06.953.18 1.344.12.385.284.711.492.976.208.266.443.466.703.602.266.135.542.203.828.203.334 0 .631-.063.891-.188.26-.13.479-.309.656-.539.182-.234.32-.51.414-.828.094-.317.141-.666.141-1.047 0-.338-.042-.664-.125-.976a2.594 2.594 0 0 0-.383-.844 1.845 1.845 0 0 0-.648-.586 1.813 1.813 0 0 0-.914-.219c-.401 0-.776.099-1.125.297a2.559 2.559 0 0 0-.852.766 2.054 2.054 0 0 0-.375 1.023l-.766-.008c.073-.583.209-1.08.407-1.492a3.18 3.18 0 0 1 .75-1.015 2.824 2.824 0 0 1 1.007-.578 3.732 3.732 0 0 1 1.188-.188c.568 0 1.057.107 1.469.32.411.214.75.5 1.015.86.266.354.461.755.586 1.203.13.443.196.898.196 1.367a4.89 4.89 0 0 1-.227 1.508c-.151.469-.378.88-.68 1.234-.297.354-.664.63-1.101.828-.438.198-.946.297-1.524.297-.614 0-1.151-.125-1.609-.375a3.445 3.445 0 0 1-1.141-1.015 4.633 4.633 0 0 1-.679-1.407 5.557 5.557 0 0 1-.227-1.57v-.68c0-.802.081-1.588.242-2.359.162-.771.44-1.469.836-2.094.401-.625.956-1.122 1.664-1.492.709-.37 1.612-.555 2.711-.555ZM232.117 100.922c0 .693-.161 1.281-.484 1.766-.318.479-.75.843-1.297 1.093-.542.25-1.154.375-1.836.375-.682 0-1.297-.125-1.844-.375a3.032 3.032 0 0 1-1.297-1.093c-.317-.485-.476-1.073-.476-1.766 0-.453.086-.867.258-1.242.177-.38.424-.711.742-.993a3.41 3.41 0 0 1 1.14-.648c.443-.156.93-.234 1.461-.234.698 0 1.321.135 1.868.406.546.266.976.633 1.289 1.102.317.468.476 1.005.476 1.609Zm-1.453-.031c0-.422-.091-.795-.273-1.118a1.94 1.94 0 0 0-.766-.765 2.31 2.31 0 0 0-1.141-.274c-.442 0-.825.092-1.148.274a1.907 1.907 0 0 0-.742.765 2.287 2.287 0 0 0-.266 1.118c0 .437.086.812.258 1.125a1.8 1.8 0 0 0 .75.711c.328.161.716.242 1.164.242.448 0 .833-.081 1.156-.242.323-.167.571-.404.742-.711.178-.313.266-.688.266-1.125Zm1.188-5.305a2.65 2.65 0 0 1-.438 1.492c-.292.443-.69.792-1.195 1.047-.505.255-1.078.383-1.719.383-.651 0-1.232-.128-1.742-.383a2.987 2.987 0 0 1-1.188-1.047 2.69 2.69 0 0 1-.429-1.492c0-.662.143-1.224.429-1.688.292-.463.69-.817 1.196-1.062.505-.245 1.08-.367 1.726-.367.651 0 1.229.122 1.735.367.505.245.901.599 1.187 1.062.292.464.438 1.026.438 1.688Zm-1.446.023c0-.38-.08-.716-.242-1.007a1.768 1.768 0 0 0-.672-.688 1.905 1.905 0 0 0-1-.258c-.38 0-.713.081-1 .242-.281.157-.502.38-.664.672-.156.292-.234.638-.234 1.04 0 .39.078.731.234 1.023.162.291.386.518.672.68.286.161.62.242 1 .242s.711-.081.992-.243c.287-.161.511-.388.672-.68.162-.29.242-.632.242-1.023ZM62.297 107.625v.813L57.586 119h-1.523l4.703-10.188h-6.157v-1.187h7.688Z"
              fill="#000"
            />
          </svg>
          <p className="mt-5 text-sm text-white">Example of Sleators algorithm packing</p>
        </div>
      </div>
    </>
  );
};

export default SleatorsArticle;
